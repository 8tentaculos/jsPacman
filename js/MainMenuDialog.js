import Dialog from"./Dialog.js";import{STATUS_PAUSED}from"./GameModel.js";class MainMenuDialog extends Dialog{constructor(n={}){const{model:e,x:s,y:o,factor:t=1,scaling:i,onResume:a,originalWidth:l,originalHeight:c,width:d=697,height:h=920}=n;if(!e)throw new Error("MainMenuDialog requires a model");super({width:d,height:h,x:void 0!==s?s:(l-d)/2,y:void 0!==o?o:(c-h)/2,factor:t,scaling:i,dotColor:"white",content:""}),this.model=e,this._onResume=a,this.model.on("change:status",this._onModelStatusChange.bind(this))}events(){return{..."function"==typeof super.events?super.events.call(this):super.events,"change #sound-checkbox":"_onSoundCheckboxChange","change #overlay-checkbox":"_onOverlayCheckboxChange","click #resume-button":"onResumeButtonClick"}}onResumeButtonClick(){this._onResume&&this._onResume()}renderContent(){const n=this.model.status===STATUS_PAUSED,e=n?"RESUME":"EXIT MENU",s=`\n            <div class="main-menu">\n                <h2 class="menu-title">*** ${n?"PAUSED":"MAIN MENU"} ***</h2>\n                \n                <div class="menu-section">\n                    <h3 class="menu-section-title">CONTROLS</h3>\n                    \n                    <div class="control-info">\n                        <div class="control-item">\n                            <strong>KEYBOARD:</strong>\n                            <div class="control-details">\n                                <span>←↑↓→</span> Move\n                                <br>\n                                <span>ESC</span> Pause/Menu\n                            </div>\n                        </div>\n                        \n                        <div class="control-item">\n                            <strong>GAMEPAD:</strong>\n                            <div class="control-details">\n                                <span>D-Pad/Stick</span> Move\n                                <br>\n                                <span>START</span> Pause/Menu/Start\n                            </div>\n                        </div>\n                        \n                        <div class="control-item">\n                            <strong>TOUCH:</strong>\n                            <div class="control-details">\n                                <span>Swipe</span> Move\n                                <br>\n                                <span>Double Tap</span> Pause/Menu\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="menu-section">\n                    <h3 class="menu-section-title">OPTIONS</h3>\n                    \n                    <div class="option-item">\n                        <label class="checkbox-label">\n                            <input type="checkbox" class="menu-checkbox" id="sound-checkbox" ${this.model.soundEnabled?"checked":""}>\n                            <span>Sound ON/OFF</span>\n                        </label>\n                    </div>\n                    \n                    <div class="option-item">\n                        <label class="checkbox-label">\n                            <input type="checkbox" class="menu-checkbox" id="overlay-checkbox" ${this.model.overlayEnabled?"checked":""}>\n                            <span>Screen FX ON/OFF</span>\n                        </label>\n                    </div>\n                </div>\n                \n                <div class="menu-section">\n                    <button class="menu-button" id="resume-button">${e}</button>\n                </div>\n            </div>\n        `;return this.$contentArea.innerHTML=s,this}_onModelStatusChange(){this.render()}_onSoundCheckboxChange(n){this.model.soundEnabled=n.target.checked}_onOverlayCheckboxChange(n){this.model.overlayEnabled=n.target.checked}onDestroy(){this.model&&this._onModelStatusChange&&this.model.off("change:status",this._onModelStatusChange)}}export default MainMenuDialog;